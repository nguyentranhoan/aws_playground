reference link: https://docs.aws.amazon.com/lambda/latest/dg/python-image.html#python-image-instructions
aws configure
aws configure set aws_session_token

1. Retrieve an authentication token and authenticate your Docker client to your registry. Use the AWS CLI:

aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 736148933604.dkr.ecr.us-east-1.amazonaws.com

2. Build your Docker image using the following command. For information on building a Docker file from scratch see the instructions here .

docker build -t lambda_function .

3. After the build completes, tag your image so you can push the image to this repository:

docker tag lambda_function:latest 736148933604.dkr.ecr.us-east-1.amazonaws.com/lambda_function:latest

4. Run the following command to push this image to your newly created AWS repository:

docker push 736148933604.dkr.ecr.us-east-1.amazonaws.com/lambda_function:latest

